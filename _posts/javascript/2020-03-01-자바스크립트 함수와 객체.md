---
layout: post
title: 자바스크립트 함수와 객체
subtitle: 자바와는 다른 표현 방식
tags:
- JavaScript
header-style: text
---


## 자바스크립트의 함수

자바스크립트의 함수(function)는 자바의 메소드와는 다르다.

실제로 자바스크립트 내장 객체인 Function 생성자로 생성된 객체이다.

함수가 객체의 프로퍼티일 때 메소드라고 하므로, 메소드는 함수지만, 모든 함수가 메소드는 아니다.

함수는 호출할 수 있지만 다른 객체는 호출할 수 없다. 함수는 프로토타입을 가진다.

> - 함수 생성 방식
> 1. 함수 선언(Function f(){})
> 2. 함수 표현식(var f = function(){})


***


## 자바스크립트의 객체, 클래스


자바스크립트에서 객체를 생성하는 방법은 6가지가 있다.

- Object() 생성자

```javascript
var user = new Object();
```

객체 래퍼를 생성, 객체 리터럴 활용이 권장된다.

- 객체 리터럴

```javascript
var user = {
    name: 'test',
    get role() {
        return 'Engineer';
    }
}
user.role; // Engineer
```

ES5부터는 게터와 세터 접근자를 지원한다.


- 생성자 함수

```javascript
function Test( arg1, arg2 ){
    this.arg1 = arg1;
    this.arg2 = arg2;
    this.test = function () {
        console.log('arg1=' + this.arg1 + ' arg2=' + this.arg2);
    }
}
var test = new Test('Test1','Test2');
user.test(); // arg1=Test1 arg2=Test2 출력
```

- Object.create()

```javascript
var test = Object.create(Test.prototype, {
    arg1: { value: 'Test1'},
    arg2: { value: 'Test2'}
});
user.test(); // user,test() is not a function 
```

위에서 생성한 생성자 함수의 프로토타입과 Object.create() 메소드를 활용한다.

여기서 test()는 Test의 프로토타입 객체에 정의되지 않아 오류가 발생한다.

기능 구현을 위해선 해당 함수를 두 번째 인자에 전달하거나 프로토타입 객체에 추가한다.

```javascript
Test.prototype.test = function(){
    console.log('arg1=' + this.arg1 + ' arg2=' + this.arg2);
}
```

- 생성 함수

```javascript
function createFunction ( 1 ) {
    var test = {};
    test.1 = 1;
    test.run = function () {
        console.log( '1 = ' + this.1 );
    };
    return user;
}

var test = createFunction( 'arg1' );
test.run();  // 1 = arg1
```

자바의 정적 팩토리(static factory) 방식과 유사한 팩토리 메소드이다. 객체 생성의

세부 사항을 감싸기 위한 패턴으로 볼 수 있다.

- ES6의 클래스

```javascript
class Test {
    
    constructor ( 1 ) {
        this.1 = 1;
    }
    run() {
        console.log( '1 = ' + this.1 );
    }
}

let test = new Test('arg1');
test.run(); // 1 = arg1
```

클래스 선언 대신 클래스 표현식도 가능하다.

```javascript
let test = class {
    constructor(1){
        this.1 = 1;
    }
    run () {
        console.log( '1 = ' + this.1 );
    }
}
let test = new Test('arg1');
test.run(); // 1 = arg1
```





